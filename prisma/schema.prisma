// schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = env("POSTGRES_PRISMA_URL") // uses connection pooling
}

model User {
  userID    Int       @id @default(autoincrement())
  userName  String?
  userEmail String?   @unique
  userPhone String?
  createdAt DateTime  @default(now()) @map(name: "created_at")
  updatedAt DateTime  @updatedAt @map(name: "updated_at")
  event     Events[]  @relation("eventCreator")
  favorites Events[]  @relation("userFavorites")
}

model Events {
  eventID           Int       @id @default(autoincrement())
  eventName         String?  
  eventLocation     String?  
  eventCoordinates  String?  
  eventUserIDCreate User      @relation("eventCreator", fields: [userIDCreate], references: [userID])
  userIDCreate      Int
  eventUserFavorite User[]    @relation("userFavorites")
  eventDate         DateTime?
  createdAt         DateTime  @default(now()) @map(name: "created_at")
  updatedAt         DateTime  @updatedAt @map(name: "updated_at")
}